<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
xmlns:h="http://java.sun.com/jsf/html"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
xmlns:p="http://primefaces.org/ui">
<ui:include src="/base.xhtml" />	
	<div class="col-md-2" style="background: #e7e7e7; height: 600px; border-bottom: 1px solid #c3c3c3">
		<div class="row">
			<div class="col-md-12">
				<h4 style="margin-top: 20px;"><h:outputText value="#{mensagem.TituloCategorias}"/></h4>
				<ul style="margin-left: -30px;">
					<li style="list-style: none">Administração e Negócios</li>
					<li style="list-style: none">Animais e Estimação</li>
					<li style="list-style: none">Biografia</li>
					<li style="list-style: none">Informática</li>
					<li style="list-style: none">Moda e Beleza</li>
					<li style="list-style: none">Viagem</li>
					<li style="list-style: none">Psicologia</li>
				</ul>
			</div>
			<div class="col-md-12">
				<h4><h:outputText value="#{mensagem.campoDesconto}"/></h4>
				<h:form id="formOne">
					<p:selectManyCheckbox layout="grid" columns="1">
						<f:selectItem itemValue="10" itemLabel="Até 10%"/>
						<f:selectItem itemValue="30" itemLabel="De 10% até 30%"/>
						<f:selectItem itemValue="60" itemLabel="De 30% até 60%"/>
					</p:selectManyCheckbox>
			  	</h:form>
			 </div>
			 <div class="col-md-12">
				<h4><h:outputText value="#{mensagem.campoPreco}"/></h4>
				<h:form id="formTwo">
					<p:selectManyCheckbox layout="grid" columns="1">
						<f:selectItem itemValue="R10" itemLabel="Até R$30,00"/>
						<f:selectItem itemValue="R30" itemLabel="R$30,00 à R$60,00"/>
						<f:selectItem itemValue="R60" itemLabel="R$60,00 à R$100,00"/>
					</p:selectManyCheckbox>
				</h:form>  	
			 </div>	
		</div>
	</div>		
		
	<div class="col-md-8" style=" display: block; margin-top: 40px">
		<div class="row">
			<h:form styleClass="form-inline" style="margin: 0px 0px 20px 35px" id="formThree">
				<div class="form-group">
					<h:inputText value="#{Livro.livroSelecionado}" styleClass="form-control"/>
					<h:selectOneMenu value="#{Livro.comboSelecionado}" converter="omnifaces.SelectItemsConverter" styleClass="form-control">
						<f:selectItem itemValue="Autor"></f:selectItem>
						<f:selectItem itemValue="Editora"></f:selectItem>
						<f:selectItem itemValue="Titulo"></f:selectItem>
					</h:selectOneMenu>
					<h:commandButton value="#{mensagem.botaoPesquisar}" styleClass="btn btn-primary" style="margin-left: 10px;" actionListener="#{Livro.filtrar}"  />
				</div>
			</h:form>
		</div>
		<ui:repeat value="#{Livro.listarLivro}" var="livro">
		<div class="col-md-3 item" style="margin-top: 20px;">
			<h:outputText value="#{livro.titulo}" style="font-size: 16px; color: #a3a3a3"/>
			<img src="" width="170" height="200" style="border: 1px solid #c3c3c3"/>
			 <del style="margin-right: 20px; display: block">R$ <h:outputText value="#{livro.preco}"/></del>
			<span style="font-size: 1.4em; font-weight: bold; color: orange">
                <span class="precoComDesconto">R$ <h:outputText value="#{livro.precoAtual}"/></span>
                <span class="desconto" style="font-size: 0.6em; color: blue;">(-<h:outputText value="#{livro.desconto}"/>)</span>
            </span>
            <p:commandButton styleClass="btn btn-primary" value="#{mensagem.botaoAdicionarCarrinho}"><!-- envia para o carrinho -->
            	<f:attribute name="livroComprado" value="#{livro}"/>
            </p:commandButton>
		</div>
	</ui:repeat>
	</div>
	
	<script>
		$(function(){
			$('input[type="checkbox"]').on('click', function(){
				if($(this).is(':checked')){
					var variavel = $(this).val();
					if(variavel == 10){
						alert("foi selecionado o checkbox com valor 10");
					}
					else if(variavel == 30){
						alert("foi selecionado o checkbox com valor 10 ate 30");
					}
					else if(variavel == 60){
						alert("foi selecionado o checkbox com valor 30 ate 60");
					}
					else if(variavel == 'R10'){
						alert("foi selecionado o checkbox com valor ate R$30");
					}
					else if(variavel == 'R30'){
						alert("foi selecionado o checkbox com valor R$30 à 60");
					}
					else{
						alert("foi selecionado o checkbox com valor R$60 à 100");
					}
				}
			});
			
			$('.item').each(function(){
				var desconto = $(this).find('.desconto').text();
				alert(desconto);
			});
		});
	</script>
</html>